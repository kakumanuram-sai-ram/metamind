{
  "dashboard_id": 476,
  "timestamp": "2025-11-30T16:01:05.773484",
  "summary": {
    "overall_confidence": 33.0,
    "status": "POOR",
    "average_scores": {
      "completeness": 32.0,
      "accuracy": 33.6
    },
    "total_issues": {
      "missing_items": 19,
      "quality_issues": 15,
      "recommendations": 20
    }
  },
  "detailed_reports": {
    "table_metadata": {
      "metadata_type": "table_metadata",
      "scores": {
        "completeness": 85.0,
        "accuracy": 88.0,
        "confidence": 85.0,
        "clarity": 82.0
      },
      "missing_items": [
        "hive.user_paytm_payments.paytm_upi_mau_final"
      ],
      "quality_issues": [
        "Some CTEs documented as physical tables which may confuse users",
        "Missing table hive.user_paytm_payments.paytm_upi_mau_final referenced in SQL queries",
        "Several tables have empty table_columns field limiting structural understanding",
        "Some relationship descriptions are overly verbose and could be more concise"
      ],
      "recommendations": [
        "Add metadata for missing table hive.user_paytm_payments.paytm_upi_mau_final",
        "Clearly distinguish between physical tables and CTEs in descriptions",
        "Populate empty table_columns fields where possible",
        "Simplify some relationship context descriptions to focus on key join patterns",
        "Add refresh schedule details beyond just 'Daily' where applicable",
        "Include data lineage information for derived tables"
      ],
      "status": "GOOD"
    },
    "column_metadata": {
      "metadata_type": "column_metadata",
      "scores": {
        "completeness": 75.0,
        "accuracy": 80.0,
        "confidence": 80.0,
        "business_context": 85.0
      },
      "missing_items": [
        "hive.cdo.fact_upi_customer_lifecycle_snapshot_v3.p2m_p2p_flag",
        "hive.cdo.fact_upi_transactions_snapshot_v3.Flow_category",
        "hive.cdo.fact_upi_transactions_snapshot_v3.Success_txn",
        "hive.cdo.fact_upi_transactions_snapshot_v3.Overall_txn",
        "hive.default.virtual_table.TPU_bucket",
        "hive.default.virtual_table.gmv_bkt",
        "hive.default.virtual_table.Base_month",
        "hive.default.virtual_table.diff",
        "hive.default.virtual_table.NRR_retention"
      ],
      "quality_issues": [
        "Several columns have inconsistent data type specifications (many showing empty variable_type)",
        "Some calculated metrics like TPU and retention rates are missing from metadata",
        "Column descriptions for date fields could be more specific about their role in UPI lifecycle analysis",
        "Some columns show data type mismatches between metadata and SQL usage patterns"
      ],
      "recommendations": [
        "Add missing critical columns used in retention and lifecycle analysis queries",
        "Standardize data type specifications for all columns",
        "Enhance descriptions for calculated business metrics like TPU, retention rates, and P2P/P2M ratios",
        "Add more specific UPI business context for lifecycle stages and customer journey phases",
        "Include composite key descriptions for account_key and similar derived fields",
        "Clarify the relationship between different date columns used in temporal analysis"
      ],
      "status": "GOOD"
    },
    "joining_conditions": {
      "metadata_type": "joining_conditions",
      "scores": {
        "completeness": 0.0,
        "accuracy": 0.0,
        "confidence": 0.0,
        "context": 0.0
      },
      "missing_items": [
        "all_accounts JOIN users ON users.id = all_accounts.user_id",
        "upi LEFT JOIN top20 ON upi.payer_cust_id = top20.customer_id",
        "upi LEFT JOIN nrr ON upi.payer_cust_id = nrr.custid",
        "outt LEFT JOIN nrr ON outt.payer_cust_id = nrr.custid",
        "upi LEFT JOIN upi ON upi.scope_cust_id = upi.scope_cust_id",
        "lm LEFT JOIN cmtd ON lm.scope_cust_id = cmtd.scope_cust_id",
        "category LEFT JOIN paytm_upi_mau_final_nrr_1 ON category.customer_id = paytm_upi_mau_final_nrr_1.cust_id",
        "banner LEFT JOIN ftr ON banner.customer_id = ftr.custid",
        "out LEFT JOIN nrr ON out.payer_cust_id = nrr.custid"
      ],
      "quality_issues": [
        "Complete absence of join condition documentation",
        "No table relationships captured in metadata",
        "Missing all JOIN clauses from SQL queries",
        "No business context for any table relationships",
        "Empty joining conditions metadata despite complex multi-table queries"
      ],
      "recommendations": [
        "Extract and document all JOIN conditions from the SQL queries",
        "Create comprehensive table relationship mapping",
        "Add business context explaining why tables are joined",
        "Document join types (INNER, LEFT, etc.) for each relationship",
        "Include column mappings and join keys for all table pairs",
        "Add remarks explaining the business purpose of each join relationship"
      ],
      "status": "POOR"
    },
    "filter_conditions": {
      "metadata_type": "filter_conditions",
      "scores": {
        "completeness": 0,
        "accuracy": 0,
        "clarity": 0,
        "confidence": 0
      },
      "missing_items": [],
      "quality_issues": [
        "Error during judging: litellm.RateLimitError: AnthropicException - {\"error\":{\"message\":\"{\\\"message\\\":\\\"Too many tokens, please wait before trying again.\\\"}\",\"type\":\"None\",\"param\":\"None\",\"code\":\"429\"}}"
      ],
      "recommendations": [
        "Fix judging error and retry"
      ],
      "status": "POOR"
    },
    "definitions": {
      "metadata_type": "definitions",
      "scores": {
        "completeness": 0,
        "accuracy": 0,
        "usefulness": 0,
        "confidence": 0
      },
      "missing_items": [],
      "quality_issues": [
        "Error during judging: litellm.RateLimitError: AnthropicException - {\"error\":{\"message\":\"{\\\"message\\\":\\\"Too many tokens, please wait before trying again.\\\"}\",\"type\":\"None\",\"param\":\"None\",\"code\":\"429\"}}"
      ],
      "recommendations": [
        "Fix judging error and retry"
      ],
      "status": "POOR"
    }
  }
}