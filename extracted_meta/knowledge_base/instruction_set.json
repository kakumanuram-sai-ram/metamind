{
  "generated_at": "2025-12-03T05:27:58.324489",
  "version": "2.0-fallback",
  "generation_method": "Template (LLM unavailable)",
  "error": "litellm.AuthenticationError: AnthropicException - {\"type\":\"error\",\"error\":{\"type\":\"authentication_error\",\"message\":\"invalid x-api-key\"},\"request_id\":\"req_011CVjCc9P7XCVVFHpHh43fB\"}",
  "purpose": "SQL Query Generation Agent Instructions",
  "context": {
    "vertical": {
      "id": "general",
      "name": "General Analytics"
    },
    "sub_vertical": null
  },
  "instructions": [
    {
      "category": "Available Tables",
      "priority": "HIGH",
      "content": "The following tables are available:\n\n- hive.cdo.fact_upi_transactions_snapshot_v3: data_description: This is a comprehensive UPI transactions snapshot table containing detailed transa\n- hive.tpap_pms.account_snapshot_v3: data_description: The account_snapshot_v3 table is a comprehensive repository of account-level data \n- hive.user_paytm_payments.upi_flow_wise_base: data_description: The upi_flow_wise_base table contains UPI (Unified Payments Interface) transaction\n- hive.cdo.fact_upi_customer_lifecycle_snapshot_v3: data_description: The fact_upi_customer_lifecycle_snapshot_v3 table is a comprehensive snapshot tabl\n- all_accounts: data_description: The all_accounts table is a derived dataset containing UPI account information ext\n- users: data_description: This table represents a derived dataset of UPI users with their account profiles a\n- hive.user_paytm_payments.upi_flow_wise_base_cm: data_description: This table contains UPI (Unified Payments Interface) transaction flow data specifi\n- hive.tpap_pms.user_snapshot_v3: data_description: This table contains comprehensive user profile snapshots for UPI services, storing\n- out: data_description: The 'out' table contains aggregated UPI (Unified Payments Interface) transaction m\n- hive.user_paytm_payments.upi_flow_wise_base_partitioned: data_description: This table contains UPI transaction flow data partitioned by day, storing informat"
    },
    {
      "category": "Join Patterns",
      "priority": "MEDIUM",
      "content": "Use these join patterns:\n\n"
    },
    {
      "category": "General Guidelines",
      "priority": "HIGH",
      "content": "\n1. Always use fully qualified table names (catalog.schema.table)\n2. Include partition filters (dt or day_id) for performance\n3. Use CTEs for complex queries\n4. Round percentages to 2 decimal places\n5. Order results by date then primary dimension\n"
    }
  ],
  "example_queries": [],
  "metadata_summary": {
    "tables_count": 53,
    "columns_count": 523,
    "joins_count": 0,
    "definitions_count": 427
  }
}